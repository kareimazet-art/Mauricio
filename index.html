<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pretty Pictures ‚Äî Gallery</title>
  <style>
    :root{
      --bg1:#0f172a;--bg0:#0b1020;--card:#0b1220cc;--text:#e5e7eb;
      --muted:#9ca3af;--border:#243041;--accent:#22c55e;--accent2:#38bdf8;
      --shadow:0 24px 70px rgba(0,0,0,.45);--radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);
      background:
        radial-gradient(1200px 800px at 80% 10%, #1d4ed833, transparent 60%),
        radial-gradient(1000px 700px at 10% 20%, #22c55e22, transparent 55%),
        linear-gradient(135deg,var(--bg1),var(--bg0));
      min-height:100vh;
    }
    .container{max-width:1180px;margin:0 auto;padding:18px 14px 60px}
    .topbar{display:flex;align-items:center;justify-content:space-between;gap:14px;padding:10px 0 18px}
    .brand{display:flex;align-items:center;gap:10px}
    .logo{width:40px;height:40px;border-radius:14px;background:linear-gradient(135deg,var(--accent),var(--accent2));box-shadow:0 18px 40px rgba(34,197,94,.15)}
    .brand h1{margin:0;font-size:16px;font-weight:900}
    .sub{margin-top:2px;color:var(--muted);font-size:12px;font-weight:800}
    .nav{display:flex;gap:10px;flex-wrap:wrap}
    .chip{border:1px solid var(--border);background:#0b122066;padding:8px 12px;border-radius:999px;font-size:13px;font-weight:800;text-decoration:none;color:inherit;transition:.15s}
    .chip:hover{border-color:#3b82f6aa;transform:translateY(-1px)}
    .hero{display:grid;grid-template-columns:1.2fr .8fr;gap:14px;align-items:stretch;margin:4px 0 14px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:14px;box-shadow:var(--shadow);backdrop-filter:blur(10px)}
    .heroTitle{margin:0 0 8px;font-size:22px;font-weight:1000;line-height:1.2}
    .heroText{margin:0;color:var(--muted);line-height:1.7;font-size:14px}
    .controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-top:12px}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .input,.select{padding:12px 12px;border-radius:14px;border:1px solid var(--border);background:#0b1220aa;color:var(--text);outline:none;font-weight:800;font-size:13px}
    .input{width:min(520px,100%)}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 14px;border-radius:14px;border:1px solid var(--border);background:#0b1220;color:var(--text);font-weight:900;font-size:13px;cursor:pointer;transition:.15s;text-decoration:none}
    .btn:hover{border-color:#22c55e88;transform:translateY(-1px)}
    .btnPrimary{background:linear-gradient(135deg,var(--accent),#16a34a);border:none;color:#05130a;box-shadow:0 18px 40px rgba(34,197,94,.18)}
    .badge{color:var(--muted);font-weight:900;font-size:12px;white-space:nowrap}
    .tagsBar{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
    .tag{border:1px solid var(--border);background:#0b122066;padding:7px 10px;border-radius:999px;font-size:12px;font-weight:900;cursor:pointer;transition:.12s;color:inherit}
    .tag:hover{border-color:#38bdf888;transform:translateY(-1px)}
    .tag.active{border-color:#22c55eaa;background:rgba(34,197,94,.12)}
    .masonry{margin-top:14px;column-count:4;column-gap:14px}
    .pin{break-inside:avoid;margin:0 0 14px;border-radius:18px;overflow:hidden;background:#0b1220;border:1px solid var(--border);box-shadow:0 20px 60px rgba(0,0,0,.35);transition:.15s}
    .pin:hover{transform:translateY(-2px);border-color:#3b82f6aa}
    .pin img{width:100%;height:auto;display:block;background:#0b1220;cursor:pointer}
    .pinMeta{padding:10px 12px 12px;display:flex;align-items:flex-start;justify-content:space-between;gap:10px}
    .pinTitle{font-weight:1000;font-size:13px;margin:0;line-height:1.25}
    .pinSub{margin-top:4px;font-size:12px;color:var(--muted);font-weight:800;display:flex;gap:6px;flex-wrap:wrap}
    .tinyTag{padding:3px 8px;border-radius:999px;border:1px solid var(--border);background:#0b122066;font-size:11px;font-weight:900;color:var(--muted)}
    .iconBtn{width:36px;height:36px;border-radius:12px;border:1px solid var(--border);background:#0b1220;color:var(--text);cursor:pointer;font-weight:1000;display:inline-flex;align-items:center;justify-content:center;transition:.12s;text-decoration:none}
    .iconBtn:hover{border-color:#22c55e88;transform:translateY(-1px)}
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.65);display:none;align-items:center;justify-content:center;padding:18px;z-index:999}
    .modal.open{display:flex}
    .modalPanel{width:min(980px,100%);max-height:90vh;overflow:auto;background:#0b1220f2;border:1px solid var(--border);border-radius:22px;box-shadow:0 30px 90px rgba(0,0,0,.7);padding:12px}
    .modalTop{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:6px 6px 10px}
    .modalTitle{font-weight:1000;font-size:14px;margin:0;max-width:70%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
    .muted{color:var(--muted);font-weight:900;font-size:12px}
    .modalImgWrap{border:1px solid var(--border);border-radius:18px;overflow:hidden;background:#0b1220}
    .modalImgWrap img{width:100%;height:auto;display:block}
    footer{margin-top:18px;color:var(--muted);font-size:12px;font-weight:900;text-align:center;padding-top:10px}
    @media (max-width:1100px){.masonry{column-count:3}}
    @media (max-width:860px){.hero{grid-template-columns:1fr}.masonry{column-count:2}.topbar{flex-direction:column;align-items:flex-start}}
    @media (max-width:520px){.masonry{column-count:1}.input{width:100%}}
  </style>
</head>
<body>
  <div class="container">
    <header class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>Pretty Pictures</h1>
          <div class="sub">Pinterest-style gallery ‚Ä¢ search ‚Ä¢ tags ‚Ä¢ preview ‚Ä¢ download</div>
        </div>
      </div>
      <nav class="nav">
        <a class="chip" href="#gallery">Gallery</a>
        <a class="chip" href="#about">About</a>
      </nav>
    </header>

    <section class="hero">
      <div class="card">
        <h2 class="heroTitle">Discover beautiful images</h2>
        <p class="heroText">Fast static gallery for GitHub Pages.</p>

        <div class="controls">
          <div class="row" style="flex:1">
            <input id="q" class="input" placeholder="Search by title or tag..." />
            <select id="sort" class="select">
              <option value="new">Sort: Newest</option>
              <option value="az">Sort: Title A ‚Üí Z</option>
              <option value="za">Sort: Title Z ‚Üí A</option>
            </select>
          </div>
          <div class="row">
            <span id="count" class="badge">0 items</span>
            <button id="reset" class="btn">Reset</button>
          </div>
        </div>

        <div id="tagsBar" class="tagsBar"></div>
      </div>

      <div class="card" id="about">
        <h3 style="margin:0 0 8px;font-size:16px;font-weight:1000">About</h3>
        <p class="heroText" style="margin:0">Click an image to preview. Use Download to save.</p>
      </div>
    </section>

    <main id="gallery">
      <div id="masonry" class="masonry"></div>
    </main>

    <footer>¬© <span id="year"></span> ‚Ä¢ Built for GitHub Pages</footer>
  </div>

  <div id="modal" class="modal" role="dialog" aria-modal="true">
    <div class="modalPanel">
      <div class="modalTop">
        <div>
          <p id="mTitle" class="modalTitle">Preview</p>
          <div id="mMeta" class="muted"></div>
        </div>
        <div class="row">
          <a id="mOpen" class="btn" target="_blank" rel="noopener">Open</a>
          <a id="mDl" class="btn btnPrimary" download>Download</a>
          <button id="mClose" class="btn">Close</button>
        </div>
      </div>
      <div class="modalImgWrap">
        <img id="mImg" alt="Preview image" />
      </div>
    </div>
  </div>

  <script>
    const ITEMS = [
      { title:"Design The Cell", src:"images/ee6999e26bc1504415498dab666680e.jpg", tags:["design","science","3d"] }
    ];

    const SUGGESTED_TAGS = ["all","nature","sky","flowers","scenery","aesthetic","wallpaper","sunset","ocean","mountains","city"];

    const yearEl = document.getElementById("year");
    const masonry = document.getElementById("masonry");
    const qEl = document.getElementById("q");
    const sortEl = document.getElementById("sort");
    const countEl = document.getElementById("count");
    const resetBtn = document.getElementById("reset");
    const tagsBar = document.getElementById("tagsBar");

    const modal = document.getElementById("modal");
    const mImg = document.getElementById("mImg");
    const mTitle = document.getElementById("mTitle");
    const mMeta = document.getElementById("mMeta");
    const mOpen = document.getElementById("mOpen");
    const mDl = document.getElementById("mDl");
    const mClose = document.getElementById("mClose");

    yearEl.textContent = new Date().getFullYear();

    function normalize(s){ return (s||"").toLowerCase().trim(); }

    let activeTag = "all";

    function getTags(){
      const set = new Set(SUGGESTED_TAGS.map(normalize));
      ITEMS.forEach(it => (it.tags||[]).forEach(t => set.add(normalize(t))));
      return Array.from(set);
    }

    function renderTags(){
      const tags = getTags();
      tagsBar.innerHTML = "";
      tags.forEach(t=>{
        const b = document.createElement("button");
        b.className = "tag" + (activeTag===t ? " active": "");
        b.textContent = t==="all" ? "All" : t;
        b.onclick = ()=>{ activeTag=t; renderTags(); apply(); };
        tagsBar.appendChild(b);
      });
    }

    function openModal(item){
      mImg.src = item.src;
      mTitle.textContent = item.title || "Untitled";
      mMeta.textContent = (item.tags||[]).length ? "Tags: " + item.tags.join(", ") : "";
      mOpen.href = item.src;
      mDl.href = item.src;
      mDl.setAttribute("download", (item.title||"image") + ".jpg");
      modal.classList.add("open");
    }
    function closeModal(){
      modal.classList.remove("open");
      mImg.src = "";
    }

    modal.addEventListener("click", (e)=>{ if(e.target===modal) closeModal(); });
    mClose.addEventListener("click", closeModal);
    document.addEventListener("keydown", (e)=>{ if(e.key==="Escape") closeModal(); });

    function pinTemplate(item){
      const tags = (item.tags||[]).slice(0,5).map(t=>`<span class="tinyTag">${t}</span>`).join("");
      return `
        <div class="pin">
          <img src="${item.src}" alt="${item.title||"Untitled"}">
          <div class="pinMeta">
            <div>
              <p class="pinTitle">${item.title||"Untitled"}</p>
              <div class="pinSub">${tags}</div>
            </div>
            <div style="display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end">
              <button class="iconBtn" data-open="1">üîç</button>
              <a class="iconBtn" href="${item.src}" download title="Download">‚¨áÔ∏è</a>
            </div>
          </div>
        </div>
      `;
    }

    function render(list){
      masonry.innerHTML = list.map(pinTemplate).join("");
      const pins = masonry.querySelectorAll(".pin");
      pins.forEach((pin, i)=>{
        const item = list[i];
        pin.querySelector("img").onclick = ()=> openModal(item);
        pin.querySelector("[data-open]").onclick = ()=> openModal(item);
      });
      countEl.textContent = `${list.length} items`;
    }

    function apply(){
      let list = [...ITEMS];
      const q = normalize(qEl.value);

      if(activeTag !== "all"){
        list = list.filter(it => (it.tags||[]).map(normalize).includes(activeTag));
      }
      if(q){
        list = list.filter(it=>{
          const t = normalize(it.title);
          const tags = normalize((it.tags||[]).join(" "));
          return t.includes(q) || tags.includes(q);
        });
      }

      if(sortEl.value === "az") list.sort((a,b)=>(a.title||"").localeCompare(b.title||""));
      if(sortEl.value === "za") list.sort((a,b)=>(b.title||"").localeCompare(a.title||""));

      render(list);
    }

    qEl.addEventListener("input", apply);
    sortEl.addEventListener("change", apply);
    resetBtn.addEventListener("click", ()=>{
      qEl.value = "";
      sortEl.value = "new";
      activeTag = "all";
      renderTags();
      apply();
    });

    renderTags();
    apply();
  </script>
</body>
</html>
